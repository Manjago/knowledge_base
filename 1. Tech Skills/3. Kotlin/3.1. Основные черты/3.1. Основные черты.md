# Основные черты Kotlin
## Статическая типизация

Так же, как Java Kotlin - *статически типизированный* язык программирования.
Это означает, что тип каждого выражения в программе известен во время компиляции, и компилятор может проверить, что методы и поля, к которым вы обращаетесь, действительно существуют в используемых объектах.
Этим Kotlin отличается от *динамически типизированных* языков программирования на платформе JVM, таких как Groovy или JRuby.

*Жемеров Д., Исакова С. Kotlin в действии. стр.24*



## Тип в Kotlin выводится - не нужно указывать явно

С другой стороны, в отличие от Java, Kotlin не требует явно указывать тип каждогой переменной.
В большинстве случаев тип переменной может быть определен автоматически, как в примере

```kotlin
val x = 1
```

Способность компилятора определять типы из контекста называется *выведением типа* (*type inference*)

*Жемеров Д., Исакова С. Kotlin в действии. стр. 25*

## Kotlin поддерживает знакомые понятия Java

Система типов в Kotlin поддерживет много знакомых понятий.
Классы, интерфейсы и обобщенные типы работают практически так же, как в java, так что большую часть знаний Java с успехом можно применить на Kotlin

*Жемеров Д., Исакова С. Kotlin в действии. стр. 25*

## Ключевые понятия функционального программирования

- *Функции, как полноценные объекты* - с функциями (элементами поведения) можно работать как со значениями. Их можно хранить в переменных, передавать в аргументах или возвращать из других функций
- *Неизменяемость* - программные объекты никогда не изменяются, что гарантирует неизменность их состояния после создания
- *Отсутствие побочных эффектов* - функции всегда возвращают один и тот же результат для тех же аргументов, не изменяют состояние других объектов и не взаимодействуют с окружающим миром

*Жемеров Д., Исакова С. Kotlin в действии. стр. 26*

## Преимущества функционального стиля

*Лаконичность*.
Функциональный код может быть более элегентным и компактным по сравнению с императивными аналогами, потому что возможность работать с функциями как со значениями дает возможность создавать более мощные абстракции, позволяющие избегать дублирования кода.

*Безопасное многопоточное программирование.*
Один из основных источников ошибок в многопоточных программах является модификация одних и тех же данных из нескольких потоков без надлежащей синхронизации.
Используя неизменяемые структуры данных и чистые функции, можно не опасаться никаких изменений и не надо придумывать сложных схем синхронизации.

Функциональное программирование *облегчает тестирование*.
Функции без побочных эффектов можно проверять по отдельности, без необходимости писать много кода для настроек окружения.

*Жемеров Д., Исакова С. Kotlin в действии. стр. 26*

## Арсенал Kotlin для поддержки функционального программирования

- *Функциональные типы*, позволяющие функциям принимать или возвращать другие функции.
- *Лямбда-выражения*, упрощающие передачу фрагментов код
- *Классы данных*, предоставляющие емкий синтаксис для создания неизменяемых объектов-значений
- обширный набор средств стандартной библиотеке для работы с объектами и коллекциями в функциональном стиле

*Жемеров Д., Исакова С. Kotlin в действии. стр. 27*

## Позволяет, но не требует функционального стиля

Kotlin позволяет программировать в функциональном стиле, но не требует этого. Когда нужно, можно работать с изменяемыми данными и писать функции с побочными эффектами без всяких затруднений.

*Жемеров Д., Исакова С. Kotlin в действии. стр. 27*

## Философия Kotlin

Говоря о Kotlin, подчеркивается, что это прагматичный, лаконичный, безопасный язык, совместимый с Java.

Под <u>*прагматичностью*</u> понимается одна простая вещь: Kotlin является практичным языком, предназначенным для решения реальных задач. Он спроектирован с учетом многолетнего опыта создания корупномасштабных систем, а его характеристики выбирались исходя из задач, которые чаще всего приходится решать разработчикам.
Kotlin не является ислледовательским языком. И он не требует применения какого-то конкретного стиля программирования.

Язык является <u>*лаконичным*</u>, если его синтаксис явно выражает намерения кода, не загромождая его вспомогательными конструкциями с деталями реализации.
Создатели Kotlin старались организовать синтаксис так, чтобы весь код нес определенный смысл, а не писался ради удовлетворения требований к структуре кода.
Большинство операций, стандартных для Java, таких как определение методов чтения/записи для свойств и присваивание параметров конструктора полям объекта, реализованов Kotlin неявно и не захламляет исходного кода.

Называя код <u>*безопасным*</u> создатели подразумевают, что его дизайн предотвращает появление определенных видов ошибок в программах.
Kotlin идёт дальше, чем Java в безопасности: теперь еще больше ошибок может быть предотвращено во время компиляции, а не во время выполнения. К примеру, `NullPointerException` или `ClassCastException`

```kotlin
val s: String? = null // Может содержать null
val s2: String = "" // Не может содержать null
```

```kotlin
if (value is String) // Проверка типа
    println(value.toUpperCase()) // Вызов метода типа
```

*<u>Совместимость</u>* - независимо от ого, какой тип API предлагает библиотека, с ними можно работать напрямую из Kotlin.
Можно вызывать java-методы, наследовать java-классы и реализовывать интерфейсы, использовать java-аннотации в Kotlin-классах и т.д.
В отличие от некоторых других языков для JVM, Kotlin идет еще дальше по пути совместимости, позволяя также легко вызывать код Kotlin из Java.

*Жемеров Д., Исакова С. Kotlin в действии. стр. 30-34*

## Исходный код, компиляция и запуск Kotlin

Как и Java, Kotlin - копилируемый язык. То есть прежде чем запустить код на Kotlin, его нужно скомпилировать.

Исходный код на Kotlin обычно храниться в файлах с расширением `.kt`.
Компилятор Kotlin анализирует исходный код с генерирует файлы `.class` так же, как и компилятор Java. Затем сгенерированные файлы `.class` упаковываются и выполняются с использованием процедуры, стандартной для данного типа приложения.
В простейшем случае скомпилировать код из командной строки можно с помощью команды `kotlinc`, а запутить - с командой `java`

```sh
kotlinc <исходный файл или каталог> -include-runtime -d <имя jar-файла>
java -jar <имя jar-файла>
```

Код, скомпилированный с помощью компилятора Kotlin, *<u>зависит от библиотеки среды выполнения Kotlin</u>*, а также расширения, которые Kotlin добавляет в стандартный Java API. Библиотека среды выполнения должна распространяться вместе с приложением.

*Жемеров Д., Исакова С. Kotlin в действии. стр. 34-35*

## REPL

для быстрого опробования небольших фрагментов кода на Kotlin можно использовать интерактивную оболочку REPL (Read Eval Print Loop)

*Жемеров Д., Исакова С. Kotlin в действии. стр. 36*

## Комощь конвертора с точным синтаксисов

В начале изучения ковертер поможет запомнить точный синтаксис Kotlin. Нужно написать фрагмент кода на Java, вставить его в файл с исходным кодом на Kotlin, и ковертер автоматически предложит перевести этот фрагмент на язык Kotlin.

*Жемеров Д., Исакова С. Kotlin в действии. стр. 37*