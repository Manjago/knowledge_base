# Событийно-управляемые микросервисы
## Срок хранение событий
События не уничтожаются пи потреблении, как в системах передачи сообщений, но остаются легко доступными для других потребителей, которые могут читать их по мере необходимости<br/>
Это позволяет задействовать мощные шаблоны.<br/>
_Беллемар А. Создание событийно-управляемых микросервисов. Стр. 22_

## Несколько понятий из DDD
**Домен** - предметная область, в которой работает бизнес. Существует независимо от существования предприятия.<br/>
**Поддомен** - компонент домена. Каждый поддомен сфокусирован на конкретном подмножестве функций и отражает какую то орг. структуру предприятия (склад, продажи, инжиниринг)<br/>
**Доменная (поддоменная) модель** - абстракция реального домена (поддомена)<br/>
**Ограниченный контекст** - логические границы, включая входы, выходы, события и т.д. В идеале, ограниченный контекст должен полностью совпадать с поддоменом.<br/>
Ограниченным контекстам следует быть сильно сцепленным (high cohesive), а контексты между собой - слабо связанными (loosely coupled)<br/>
_Беллемар А. Создание событийно-управляемых микросервисов. Стр. 23-24_

## Деление поддоменов до микросервисов и трансграничные зависимости
Поддомен может быть разделен на более мелкие поддомены. Можно делить до тех пор, пока не удастся реализовать малые и незавыисимые микеросервисы<br/>
Устранение трансграничных зависимостей между технологиями и командами снизит чувствительность системы к изменениям. Включая слой данных.Команды могут поделиться источниками данных для уменьшения повторяемости, но эта сцепка может быть гораздо более дорогостоящей в долгосрочной перпективе<br/>
_Беллемар А. Создание событийно-управляемых микросервисов. Стр. 24-26_

## Структуры обмена информацией (коммуникационная структура)
* **Структуры обмена бизнес-информацией**. Взаимодествие между командами и подразделениями ("сделайте это", "план подтвержден", "будет готово тогда то"...)
* **Структуры обмена технической информацией**. Данные и логика, относящиеся к модели поддомена и находящиеся под влиянием бизнеса
* **Структура обмена данными**. Процесс, посредством которого данные передаются по всему предприятию и, в частности, между приложениями.

_Беллемар А. Создание событийно-управляемых микросервисов. Стр. 26-28_

## Проблема мастштабирования в традиционных подходах
Если есть команда и сервис с хранилищем данных. Появляются новые бизнес-требования и есть возможность вычленить новую логику в новый сервис, но требуются определенные данные из существующего.<br/>
Первый путь решения - сделать новый сервис и периодически копировать нужные данные из старого сервиса, но данные тогда не актуальные. Плюс дополнительные расходы на создание сервиса, деплоя и т.д. Зато легко выделить команду<br/>
Второй путь - оставить логику в текущем решении, но тогда придется тщательно следить за моделью, чтобы логика ни у одной из команд не поломалась.<br/>
_Беллемар А. Создание событийно-управляемых микросервисов. Стр. 30-33_